(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,n){e.exports={Cockpit:"Cockpit_Cockpit__33rHs"}},147:function(e,t,n){e.exports=n(290)},152:function(e,t,n){},290:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(30),l=n.n(r),s=(n(152),n(122)),i=n(123),c=n(137),u=n(124),m=n(138),h=n(39),g=n(80),p=n.n(g),d=n(125),k=n.n(d),f=n(55),b=n.n(f),v=n(126),C=n(297),E=function(e){return a.a.createElement(v.a,null,a.a.createElement("div",{className:b.a.Book},a.a.createElement("div",{className:b.a.Img},a.a.createElement("img",{src:e.imageUrl,alt:""})),a.a.createElement("div",{className:b.a.Info},a.a.createElement(C.a.Content,null,a.a.createElement(C.a.Header,null,e.title),a.a.createElement(C.a.Meta,null,"By: ",e.author),a.a.createElement(C.a.Description,null,"Published by: ",e.publisher)),a.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},a.a.createElement("button",null,"See this Book")))))},w=n(298),I=n(33),y=n(135),_=n.n(y),S=function(e){return a.a.createElement("div",{className:_.a.Cockpit},a.a.createElement("h2",null,"BookSearch"),a.a.createElement(w.a,{icon:a.a.createElement(I.a,{name:"search",circular:!0,link:!0,onClick:e.onButtonClick}),size:"big",type:"text",placeholder:"Search books here..",value:e.inputText,onChange:e.onInputChange}))},B=n(299),O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={bookCards:[],searchQuery:"",error:!1,errorMessage:"",loading:!1},n.buttonClickedHandler=function(){n.setState({loading:!0}),console.log("button clicked");var e="".concat("https://www.googleapis.com/books/v1/volumes?q="+n.state.searchQuery,"&key=").concat("AIzaSyCLyYTiU5ho4IHCfNY7X0AIYoqKUKUc3Tk","&maxResults=40&orderBy=relevance");k.a.get(e).then(function(e){var t=n.dataRefinement(e.data.items);n.setState({bookCards:t,loading:!1}),console.log("booksToSetState: after dataRefinement call"),console.log(n.state.bookCards)}).catch(function(e){e.response?n.setState({error:!0,errorMessage:e.response.status}):e.request?n.setState({error:!0,errorMessage:e.request}):(console.log("Something happened in setting up the request that triggered an Error"),n.setState({error:!0,errorMessage:e.message}))})},n.dataRefinement=function(e){return console.log("from dataRefinement method.."),e.forEach(function(e){e.volumeInfo.hasOwnProperty("imageLinks")||(e.volumeInfo.imageLinks={thumbnail:"https://books.google.pl/googlebooks/images/no_cover_thumb.gif"},console.log(e)),e.volumeInfo.hasOwnProperty("publisher")||(e.volumeInfo.publisher="Unknown"),e.volumeInfo.hasOwnProperty("title")||(e.volumeInfo.title="Unknown"),e.volumeInfo.hasOwnProperty("authors")||(e.volumeInfo.authors="Unknown")}),console.log("All books have imageLinks property now.. "),e},n.inputChangedHandler=n.inputChangedHandler.bind(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"inputChangedHandler",value:function(e){this.setState({searchQuery:e.target.value,error:!1})}},{key:"render",value:function(){var e,t=a.a.createElement("div",null,a.a.createElement("p",null,"Something went wrong! Error code:"),a.a.createElement("p",null,this.state.errorMessage));return this.state.error||(t=this.state.bookCards.map(function(e){return a.a.createElement(E,{title:e.volumeInfo.title.toLowerCase(),author:e.volumeInfo.authors,publisher:e.volumeInfo.publisher,imageUrl:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.infoLink,key:e.id})})),this.state.loading&&(e=a.a.createElement(I.a,{loading:!0,name:"spinner",size:"big"})),a.a.createElement("div",{className:p.a.App},a.a.createElement(S,{inputText:this.state.searchQuery,onInputChange:this.inputChangedHandler,onButtonClick:this.buttonClickedHandler}),console.log(this.state.loading),e,a.a.createElement(B.a,{stackable:!0,columns:2,className:p.a.Container},t))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,n){e.exports={Book:"BookCard_Book__2niyr",Img:"BookCard_Img__tOHiH",Info:"BookCard_Info__JKSvr"}},80:function(e,t,n){e.exports={App:"App_App__SoZ31",Container:"App_Container__1X515"}}},[[147,1,2]]]);
//# sourceMappingURL=main.cf0d4b11.chunk.js.map