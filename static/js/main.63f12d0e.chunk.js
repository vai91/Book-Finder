(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,o){e.exports={App:"App_App__SoZ31"}},15:function(e,t,o){e.exports={BookCard:"BookCard_BookCard__3Ski1"}},19:function(e,t,o){e.exports=o(45)},25:function(e,t,o){},45:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(9),s=o.n(r),l=(o(25),o(17)),i=o(10),c=o(11),u=o(16),m=o(12),h=o(18),d=o(13),p=o.n(d),g=o(14),k=o.n(g),f=o(15),b=o.n(f),v=function(e){return a.a.createElement("div",{className:b.a.BookCard},a.a.createElement("img",{src:e.imageUrl,alt:""}),a.a.createElement("div",null,a.a.createElement("h2",null,e.title),a.a.createElement("p",null,"By: ",e.author),a.a.createElement("p",null,"Published by: ",e.publisher),a.a.createElement("a",{href:e.link},a.a.createElement("button",null,"See this Book"))))},C=function(e){return a.a.createElement("div",null,a.a.createElement("h2",null,"BookSearch"),a.a.createElement("input",{type:"text",placeholder:"Search by name or author",value:e.inputText,onChange:e.onInputChange}),a.a.createElement("button",{onClick:e.onButtonClick},"Search"))},E=function(e){function t(){var e,o;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={bookCards:[],searchQuery:"",error:!1,errorMessage:""},o.inputChangedHandler=function(e){o.setState({searchQuery:e.target.value,error:!1})},o.buttonClickedHandler=function(){console.log("button clicked");var e="".concat("https://www.googleapis.com/books/v1/volumes?q="+o.state.searchQuery,"&key=").concat("AIzaSyCLyYTiU5ho4IHCfNY7X0AIYoqKUKUc3Tk","&maxResults=40&orderBy=relevance");k.a.get(e).then(function(e){o.setState({bookCards:e.data.items}),console.log("this.state.bookCards from axios.get"),console.log(o.state.bookCards);var t=Object(l.a)({},o.state.bookCards);t=o.dataRefinement(e.data.items),o.setState({bookCards:t}),console.log("booksToSetState: after dataRefinement call"),console.log(o.state.bookCards)}).catch(function(e){e.response?o.setState({error:!0,errorMessage:e.response.status}):e.request?o.setState({error:!0,errorMessage:e.request}):(console.log("Something happened in setting up the request that triggered an Error"),o.setState({error:!0,errorMessage:e.message}))})},o.dataRefinement=function(e){return console.log("from dataRefinement method.."),e.forEach(function(e){e.volumeInfo.hasOwnProperty("imageLinks")?console.log("All books have imageLinks property, arr not touched.. "):(e.volumeInfo.imageLinks={},e.volumeInfo.imageLinks.thumbnail="https://image.freepik.com/free-vector/books-stack-realistic_1284-4735.jpg",console.log(e))}),e},o}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement("p",null,"Something went wrong! Error code:"),a.a.createElement("p",null,this.state.errorMessage));return this.state.error||(e=this.state.bookCards.map(function(e){return a.a.createElement(v,{title:e.volumeInfo.title,author:e.volumeInfo.authors,publisher:e.volumeInfo.publisher,imageUrl:e.volumeInfo.imageLinks.thumbnail,key:e.id})})),a.a.createElement("div",{className:p.a.App},a.a.createElement(C,{inputText:this.state.searchQuery,onInputChange:this.inputChangedHandler,onButtonClick:this.buttonClickedHandler}),e)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.63f12d0e.chunk.js.map